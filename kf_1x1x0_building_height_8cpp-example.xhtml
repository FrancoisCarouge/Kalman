<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kalman: kf_1x1x0_building_height.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Kalman<span id="projectnumber">&#160;0.1.0</span>
   </div>
   <div id="projectbrief">Kalman Filter for C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.xhtml');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('kf_1x1x0_building_height_8cpp-example.xhtml',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">kf_1x1x0_building_height.cpp</div></div>
</div><!--header-->
<div class="contents">
<p >Estimating the Height of a Building.</p>
<p >Estimating the Height of a Building</p><dl class="section copyright"><dt>Copyright</dt><dd>This example is transcribed from KalmanFilter.NET copyright Alex Becker.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://www.kalmanfilter.net/kalman1d.html#ex5">https://www.kalmanfilter.net/kalman1d.html#ex5</a></dd></dl>
<p>Assume that we would like to estimate the height of a building using a very imprecise altimeter. We know for sure, that the building height doesn’t change over time, at least during the short measurement process. The true building height is 50 meters. The altimeter measurement error (standard deviation) is 5 meters. The set of ten measurements is: 48.54m, 47.11m, 55.01m, 55.15m, 49.89m, 40.85m, 46.72m, 50.05m, 51.27m, 49.95m.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="kalman_8hpp.xhtml">fcarouge/kalman.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacefcarouge_1_1sample.xhtml">fcarouge::sample</a> {</div>
<div class="line"><span class="keyword">namespace </span>{</div>
<div class="line">[[maybe_unused]] <span class="keyword">auto</span> <a id="a0" name="a0"></a><a class="code hl_variable" href="namespacefcarouge_1_1sample_1_1anonymous__namespace_02kf__1x1x0__building__height_8cpp_03.xhtml#a483b7debca0932d5e2a64be49b97a67b">kf_1x1x0_building_height</a>{[] {</div>
<div class="line">  <span class="comment">// A one-dimensional filter, constant system dynamic model.</span></div>
<div class="line">  <a id="a1" name="a1"></a><a class="code hl_typedef" href="namespacefcarouge_1_1eigen.xhtml#a1b0dac1811e65af94771d85401c9ca39">kalman</a> filter;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Initialization</span></div>
<div class="line">  <span class="comment">// One can estimate the building height simply by looking at it. The estimated</span></div>
<div class="line">  <span class="comment">// building height is: 60 meters.</span></div>
<div class="line">  filter.x(60.);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Now we shall initialize the estimate uncertainty. A human’s estimation</span></div>
<div class="line">  <span class="comment">// error (standard deviation) is about 15 meters: σ = 15. Consequently the</span></div>
<div class="line">  <span class="comment">// variance is 225: σ^2 = 225.</span></div>
<div class="line">  filter.p(225.);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Prediction</span></div>
<div class="line">  <span class="comment">// Now, we shall predict the next state based on the initialization values.</span></div>
<div class="line">  <span class="comment">// Note: The prediction operation needs not be performed since the process</span></div>
<div class="line">  <span class="comment">// noise covariance Q is null in this example.</span></div>
<div class="line">  assert(60 == filter.x() &amp;&amp;</div>
<div class="line">         <span class="stringliteral">&quot;Since our system&#39;s dynamic model is constant, i.e. the building &quot;</span></div>
<div class="line">         <span class="stringliteral">&quot;doesn&#39;t change its height: 60 meters.&quot;</span>);</div>
<div class="line">  assert(225 == filter.p() &amp;&amp;</div>
<div class="line">         <span class="stringliteral">&quot;The extrapolated estimate uncertainty (variance) also doesn&#39;t &quot;</span></div>
<div class="line">         <span class="stringliteral">&quot;change: 225&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Measure and Update</span></div>
<div class="line">  <span class="comment">// The first measurement is: z1 = 48.54m. Since the standard deviation σ of</span></div>
<div class="line">  <span class="comment">// the altimeter measurement error is 5, the variance σ^2 would be 25, thus</span></div>
<div class="line">  <span class="comment">// the measurement uncertainty is: r1 = 25.</span></div>
<div class="line">  filter.r(25.);</div>
<div class="line"> </div>
<div class="line">  filter.update(48.54);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// And so on.</span></div>
<div class="line">  filter.update(47.11);</div>
<div class="line">  filter.update(55.01);</div>
<div class="line">  filter.update(55.15);</div>
<div class="line">  filter.update(49.89);</div>
<div class="line">  filter.update(40.85);</div>
<div class="line">  filter.update(46.72);</div>
<div class="line">  filter.update(50.05);</div>
<div class="line">  filter.update(51.27);</div>
<div class="line">  filter.update(49.95);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// After 10 measurements the filter estimates the height of the building</span></div>
<div class="line">  <span class="comment">// at 49.57m.</span></div>
<div class="line">  assert(49.57 - 0.001 &lt; filter.x() &amp;&amp; filter.x() &lt; 49.57 + 0.001 &amp;&amp;</div>
<div class="line">         <span class="stringliteral">&quot;After 10 measurement and update iterations, the building estimated &quot;</span></div>
<div class="line">         <span class="stringliteral">&quot;height is: 49.57m.&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}()};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace</span></div>
<div class="line">} <span class="comment">// namespace fcarouge::sample</span></div>
<div class="ttc" id="akalman_8hpp_xhtml"><div class="ttname"><a href="kalman_8hpp.xhtml">kalman.hpp</a></div><div class="ttdoc">The main Kalman filter class.</div></div>
<div class="ttc" id="anamespacefcarouge_1_1eigen_xhtml_a1b0dac1811e65af94771d85401c9ca39"><div class="ttname"><a href="namespacefcarouge_1_1eigen.xhtml#a1b0dac1811e65af94771d85401c9ca39">fcarouge::eigen::kalman</a></div><div class="ttdeci">fcarouge::kalman&lt; State, Output, Input, transpose, symmetrize, divide, identity_matrix, UpdateTypes, PredictionTypes &gt; kalman</div><div class="ttdoc">Eigen-based Kalman filter.</div><div class="ttdef"><b>Definition:</b> <a href="eigen_2kalman_8hpp_source.xhtml#l00085">kalman.hpp:87</a></div></div>
<div class="ttc" id="anamespacefcarouge_1_1sample_1_1anonymous__namespace_02kf__1x1x0__building__height_8cpp_03_xhtml_a483b7debca0932d5e2a64be49b97a67b"><div class="ttname"><a href="namespacefcarouge_1_1sample_1_1anonymous__namespace_02kf__1x1x0__building__height_8cpp_03.xhtml#a483b7debca0932d5e2a64be49b97a67b">fcarouge::sample::anonymous_namespace{kf_1x1x0_building_height.cpp}::kf_1x1x0_building_height</a></div><div class="ttdeci">auto kf_1x1x0_building_height</div><div class="ttdef"><b>Definition:</b> <a href="kf__1x1x0__building__height_8cpp_source.xhtml#l00022">kf_1x1x0_building_height.cpp:22</a></div></div>
<div class="ttc" id="anamespacefcarouge_1_1sample_xhtml"><div class="ttname"><a href="namespacefcarouge_1_1sample.xhtml">fcarouge::sample</a></div><div class="ttdoc">Examples, tutorials, demonstrators of the library.</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Oct 1 2022 19:21:55 for Kalman by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
